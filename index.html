<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–∞</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f5f5f5;
      font-family: "Segoe UI", sans-serif;
      color: #2c2c2c;
    }
    .card {
      border: none;
      border-radius: 16px;
      background: #ffffff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    h1 {
      color: #3e3e3e;
    }
    label {
      font-weight: 500;
      color: #444;
    }
    .form-control, .form-select {
      border-radius: 12px;
      border: 1px solid #ddd;
      padding: 10px 12px;
      transition: all 0.2s;
    }
    .form-control:focus, .form-select:focus {
      border-color: #a67c52;
      box-shadow: 0 0 0 0.2rem rgba(166, 124, 82, 0.25);
    }
    .btn {
      border-radius: 12px;
      padding: 10px;
      font-weight: 500;
    }
    .btn-primary {
      background-color: #a67c52;
      border: none;
    }
    .btn-primary:hover {
      background-color: #8c6544;
    }
    .nav-teacher {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .nav-teacher .btn {
      margin: 0 5px;
    }
  </style>
</head>
<body>

<div class="container py-5">
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è —É—á–∏—Ç–µ–ª—è -->
  {% if session.role == 'teacher' %}
  <div class="nav-teacher text-center">
    <h4 class="text-white mb-3">–ü–∞–Ω–µ–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</h4>
    <div>
      <a href="{{ url_for('index') }}" class="btn btn-light">üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∞</a>
      <a href="{{ url_for('admin') }}" class="btn btn-light">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</a>
      <a href="{{ url_for('stats') }}" class="btn btn-light">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
      <a href="{{ url_for('logout') }}" class="btn btn-outline-light">üö™ –í—ã–π—Ç–∏</a>
    </div>
  </div>
  {% endif %}

  <div class="card shadow-lg p-4 mx-auto" style="max-width: 750px;">
    <h1 class="text-center mb-4">üìù –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç</h1>

    <form method="POST" enctype="multipart/form-data">
      <!-- –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ -->
      <div class="mb-3">
        <label class="form-label">–ö–æ–Ω—Å–ø–µ–∫—Ç (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª)</label>
        <textarea name="text" class="form-control" rows="6">{{ request.form.text or "" }}</textarea>
      </div>

      <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ -->
      <div class="mb-3">
        <label class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª (.txt, .pdf, .docx)</label>
        <input type="file" name="file" class="form-control">
      </div>

      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ -->
      <div class="row mb-3">
        <div class="col-md-4 mb-3">
          <label class="form-label">–í–æ–ø—Ä–æ—Å–æ–≤</label>
          <input type="number" name="num_questions" class="form-control" min="1" value="{{ request.form.num_questions or 5 }}" required>
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">–í–∞—Ä–∏–∞–Ω—Ç–æ–≤</label>
          <input type="number" name="num_options" class="form-control" min="2" value="{{ request.form.num_options or 4 }}" required>
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
          <select name="difficulty" class="form-select">
            <option value="easy" {% if request.form.difficulty=='easy' %}selected{% endif %}>–õ–µ–≥–∫–∏–π</option>
            <option value="medium" {% if request.form.difficulty=='medium' %}selected{% endif %}>–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="hard" {% if request.form.difficulty=='hard' %}selected{% endif %}>–°–ª–æ–∂–Ω—ã–π</option>
          </select>
        </div>
      </div>

      <!-- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ / –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã -->
      <div class="row mb-3">
        <div class="col-md-6 mb-3">
          <label class="form-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</label>
          <input type="number" name="num_correct" class="form-control" min="1" value="{{ request.form.num_correct or 1 }}">
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</label>
          <input type="number" name="num_incorrect" class="form-control" min="1" value="{{ request.form.num_incorrect or 3 }}">
        </div>
      </div>

      <!-- –¢–∏–ø —Ç–µ—Å—Ç–∞ -->
      <div class="mb-3">
        <label class="form-label">–¢–∏–ø —Ç–µ—Å—Ç–∞</label>
        <select name="test_type" class="form-select">
          <option value="choice" {% if request.form.test_type=='choice' %}selected{% endif %}>–° –≤—ã–±–æ—Ä–æ–º –æ—Ç–≤–µ—Ç–∞</option>
          <option value="text" {% if request.form.test_type=='text' %}selected{% endif %}>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç</option>
          <option value="mixed" {% if request.form.test_type=='mixed' %}selected{% endif %}>–°–º–µ—à–∞–Ω–Ω—ã–π</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary w-100 mt-3">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å üöÄ</button>
    </form>
  </div>
</div>

</body>
</html>